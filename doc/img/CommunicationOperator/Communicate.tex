
\begin{tikzpicture}[>=latex,line join=bevel,]
%%
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \filldraw (0.0bp,0.0bp) -- (0.0bp,322.0bp) -- (384.0bp,322.0bp) -- (384.0bp,0.0bp) -- cycle;
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \filldraw (0.0bp,0.0bp) -- (0.0bp,322.0bp) -- (384.0bp,322.0bp) -- (384.0bp,0.0bp) -- cycle;
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \filldraw (0.0bp,0.0bp) -- (0.0bp,322.0bp) -- (384.0bp,322.0bp) -- (384.0bp,0.0bp) -- cycle;
\end{scope}
\begin{scope}
  \pgfsetstrokecolor{black}
  \definecolor{strokecol}{rgb}{1.0,1.0,1.0};
  \pgfsetstrokecolor{strokecol}
  \definecolor{fillcol}{rgb}{1.0,1.0,1.0};
  \pgfsetfillcolor{fillcol}
  \filldraw (0.0bp,0.0bp) -- (0.0bp,322.0bp) -- (384.0bp,322.0bp) -- (384.0bp,0.0bp) -- cycle;
\end{scope}
  \node (p_1q_2) at (243.0bp,84.5bp) [draw,ellipse] {$p_1q_2$};
  \node (p_2q_1) at (94.0bp,84.5bp) [draw,ellipse] {$p_2q_1$};
  \node (p_1q_0) at (80.0bp,237.5bp) [draw,ellipse] {$p_1q_0$};
  \node (p_2q_0) at (18.0bp,161.0bp) [draw,ellipse] {$p_2q_0$};
  \node (p_1q_1) at (176.0bp,161.0bp) [draw,ellipse] {$p_1q_1$};
  \node (p_0q_1) at (243.0bp,237.5bp) [draw,ellipse] {$p_0q_1$};
  \node (p_0q_0) at (162.0bp,312.5bp) [draw,ellipse] {$p_0q_0$};
  \node (p_0q_2) at (366.0bp,161.0bp) [draw,ellipse] {$p_0q_2$};
  \node (p_2q_2) at (169.0bp,9.5bp) [draw,ellipse] {$p_2q_2 \text{\cmark}$};
  \draw [->] (p_2q_1) ..controls (99.627bp,64.823bp) and (106.24bp,47.891bp)  .. (117.0bp,37.0bp) .. controls (124.72bp,29.19bp) and (135.22bp,23.244bp)  .. (p_2q_2);
  \definecolor{strokecol}{rgb}{0.0,0.0,0.0};
  \pgfsetstrokecolor{strokecol}
  \draw (136.0bp,47.0bp) node {$ack_{out}$};
  \draw (90.4bp,68.97bp) node {$$};
  \draw (148.21bp,21.145bp) node {$$};
  \draw [->] (p_1q_0) ..controls (87.043bp,217.5bp) and (95.018bp,200.41bp)  .. (107.0bp,190.0bp) .. controls (113.95bp,183.96bp) and (134.53bp,175.98bp)  .. (p_1q_1);
  \draw (127.5bp,200.0bp) node {$hello_{in}$};
  \draw (77.037bp,221.81bp) node {$$};
  \draw (155.3bp,172.71bp) node {$$};
  \draw [->] (p_1q_0) ..controls (79.377bp,212.29bp) and (79.05bp,178.39bp)  .. (82.0bp,150.0bp) .. controls (83.621bp,134.4bp) and (86.969bp,116.93bp)  .. (p_2q_1);
  \draw (115.5bp,161.0bp) node {$ack_{in}|hello_{in}$};
  \draw (85.742bp,221.88bp) node {$$};
  \draw (85.92bp,100.2bp) node {$$};
  \draw [->] (p_1q_2) ..controls (223.02bp,63.786bp) and (199.81bp,40.889bp)  .. (p_2q_2);
  \draw (231.5bp,47.0bp) node {$ack_{in}$};
  \draw (229.08bp,69.688bp) node {$$};
  \draw (183.09bp,24.477bp) node {$$};
  \draw [->] (p_1q_1) ..controls (148.99bp,150.94bp) and (131.79bp,143.26bp)  .. (120.0bp,132.0bp) .. controls (111.65bp,124.03bp) and (105.26bp,112.77bp)  .. (p_2q_1);
  \draw (137.5bp,122.0bp) node {$ack_{in}$};
  \draw (155.21bp,149.37bp) node {$$};
  \draw (102.98bp,100.04bp) node {$$};
  \draw [->] (p_0q_0) ..controls (165.07bp,278.75bp) and (171.22bp,213.08bp)  .. (p_1q_1);
  \draw (185.5bp,237.5bp) node {$hello$};
  \draw (156.83bp,296.6bp) node {$$};
  \draw (169.19bp,176.67bp) node {$$};
  \draw [->] (p_0q_2) ..controls (334.35bp,140.83bp) and (289.0bp,113.36bp)  .. (p_1q_2);
  \draw (341.5bp,122.0bp) node {$hello_{out}$};
  \draw (349.08bp,147.39bp) node {$$};
  \draw (260.07bp,98.204bp) node {$$};
  \draw [->] (p_1q_1) ..controls (183.66bp,141.16bp) and (191.93bp,123.9bp)  .. (203.0bp,112.0bp) .. controls (208.34bp,106.26bp) and (215.15bp,101.16bp)  .. (p_1q_2);
  \draw (222.0bp,122.0bp) node {$ack_{out}$};
  \draw (185.35bp,145.42bp) node {$$};
  \draw (224.7bp,97.631bp) node {$$};
  \draw [->] (p_1q_1) ..controls (174.47bp,127.36bp) and (171.42bp,62.155bp)  .. (p_2q_2);
  \draw (185.5bp,84.5bp) node {$ack$};
  \draw (169.58bp,145.1bp) node {$$};
  \draw (163.41bp,25.17bp) node {$$};
  \draw [->] (p_2q_0) ..controls (12.488bp,140.93bp) and (9.7958bp,123.55bp)  .. (18.0bp,112.0bp) .. controls (28.856bp,96.717bp) and (49.206bp,90.175bp)  .. (p_2q_1);
  \draw (38.5bp,122.0bp) node {$hello_{in}$};
  \draw (9.2224bp,145.3bp) node {$$};
  \draw (70.087bp,92.13bp) node {$$};
  \draw [->] (p_0q_0) ..controls (133.3bp,303.78bp) and (115.13bp,296.69bp)  .. (103.0bp,285.0bp) .. controls (94.989bp,277.28bp) and (89.354bp,266.19bp)  .. (p_1q_0);
  \draw (125.5bp,275.0bp) node {$hello_{out}$};
  \draw (140.27bp,301.64bp) node {$$};
  \draw (76.31bp,253.12bp) node {$$};
  \draw [->] (p_0q_0) ..controls (183.7bp,291.94bp) and (210.02bp,268.22bp)  .. (p_0q_1);
  \draw (232.5bp,275.0bp) node {$hello_{in}$};
  \draw (176.36bp,297.96bp) node {$$};
  \draw (228.56bp,252.11bp) node {$$};
  \draw [->] (p_0q_1) ..controls (243.0bp,204.29bp) and (243.0bp,137.51bp)  .. (p_1q_2);
  \draw (280.5bp,161.0bp) node {$hello_{out}|ack_{out}$};
  \draw (237.0bp,221.95bp) node {$$};
  \draw (237.0bp,100.33bp) node {$$};
  \draw [->] (p_0q_1) ..controls (274.65bp,217.33bp) and (320.0bp,189.86bp)  .. (p_0q_2);
  \draw (338.0bp,200.0bp) node {$ack_{out}$};
  \draw (259.92bp,223.89bp) node {$$};
  \draw (348.93bp,174.7bp) node {$$};
  \draw [->] (p_0q_1) ..controls (218.33bp,227.01bp) and (204.83bp,219.95bp)  .. (196.0bp,210.0bp) .. controls (188.6bp,201.66bp) and (183.68bp,190.2bp)  .. (p_1q_1);
  \draw (218.5bp,200.0bp) node {$hello_{out}$};
  \draw (222.59bp,225.33bp) node {$$};
  \draw (183.8bp,176.73bp) node {$$};
  \draw [->] (p_1q_0) ..controls (50.826bp,229.83bp) and (33.397bp,222.98bp)  .. (24.0bp,210.0bp) .. controls (17.983bp,201.69bp) and (16.343bp,190.38bp)  .. (p_2q_0);
  \draw (41.5bp,200.0bp) node {$ack_{in}$};
  \draw (57.754bp,227.29bp) node {$$};
  \draw (10.742bp,176.7bp) node {$$};
%
\end{tikzpicture}
